{"version":3,"file":"time-ago.min.js","sources":["../src/time-ago.js"],"sourcesContent":["// Languages\nlet langs = {\n    'zh_CN': {\n        'just_now': '刚刚',\n        'minutes': '%s分钟前',\n        'hours': '%s小时前',\n        'days': '%s天前',\n        'months':'%s月前',\n        'years': '%s年前'\n    },\n    'en': {\n        'just_now': 'just now',\n        'one_minute': '1 minute ago',\n        'minutes': '%s minutes ago',\n        'one_hour':'1 hour ago',\n        'hours': '%s hours ago',\n        'one_day':'1 day ago',\n        'days': '%s days ago',\n        'one_month': '1 month ago',\n        'months':'%s months ago',\n        'one_year':'1 year ago',\n        'years': '%s years ago'\n    },\n};\n\nfunction parse(str) {\n    let args = [].slice.call(arguments, 1),\n        i = 0;\n\n    return str.replace(/%s/g, function() {\n        return args[i++];\n    });\n}\n\n/**\n * transform unix timestamp / javascript timestamp / string to javascript timestamp\n */\nfunction toJsTimestamp(str = Date.now()) {\n    try {\n        //unix timestamp\n      if(typeof  str === 'number' && String(str).length === 10) {\n          return  str * 1000;\n      }\n      return + new Date(str);\n    } catch(err) {\n        throw new Error(`Can not transform ${str} to timestamp`);\n    }\n}\n\n\nfunction timeago(timestamp, lang = 'zh_CN') {\n\n    const minute = 60 * 1000;\n    const hour = 60 * minute;\n    const day = 24 * hour;\n    const month = 30 * day;\n    const year = 12 * month;\n    let timeDiff = Date.now() - toJsTimestamp(timestamp);\n\n    // in 24 hour  ==============\n    if (timeDiff < day) {\n        // in 1 minute\n        if (timeDiff < minute) {\n            return  langs[lang]['just_now'];\n        }\n        // in 1 hour\n        if(timeDiff < hour){\n            const minutes = timeDiff / minute >> 0;\n            if (langs[lang]['one_minute']) {\n                return minutes > 1 ? parse(langs[lang]['minutes'], minutes) : langs[lang]['one_minute']\n            }\n            return  parse(langs[lang]['minutes'], minutes);\n        }\n        // in 1 day\n        const hours = timeDiff / hour >> 0;\n        if (langs[lang]['one_hour']) {\n            return hours > 1 ? parse(langs[lang]['hours'], hours) : langs[lang]['one_hour']\n        }\n        return  parse(langs[lang]['hours'], hours);\n    }\n    // 24 hours to 30 days\n    else if(timeDiff >= day && timeDiff < month) {\n        const days = timeDiff / day >> 0;\n        if (langs[lang]['one_day']) {\n            return days > 1 ? parse(langs[lang]['days'], days) : langs[lang]['one_day']\n        }\n        return  parse(langs[lang]['days'], days);\n    }\n    // 1 month to 12 months\n    else if(timeDiff >= month && timeDiff < year) {\n        const months = timeDiff / month >> 0;\n        if (langs[lang]['one_month']) {\n            return months > 1 ? parse(langs[lang]['months'], months) : langs[lang]['one_month']\n        }\n        return  parse(langs[lang]['months'], months);\n    }\n    // year ago\n    else {\n        const years = timeDiff / year >> 0;\n        if (langs[lang]['one_year']) {\n            return years > 1 ? parse(langs[lang]['years'], years) : langs[lang]['one_year']\n        }\n        return  parse(langs[lang]['years'], years);\n    }\n}\n\n\ntimeago.use = function(lang, langObj) {\n  langs[lang] = Object.assign({}, langs.zh_CN, langObj)\n};\n\nexport default  timeago"],"names":["parse","str","args","slice","call","arguments","i","replace","toJsTimestamp","Date","now","String","length","err","Error","timeago","timestamp","lang","timeDiff","langs","minutes","hours","days","months","years","use","langObj","Object","assign","zh_CN"],"mappings":"mLAyBA,SAASA,EAAMC,OACPC,KAAUC,MAAMC,KAAKC,UAAW,GAChCC,EAAI,SAEDL,EAAIM,QAAQ,MAAO,kBACfL,EAAKI,OAOpB,SAASE,QAAcP,yDAAMQ,KAAKC,gBAGT,iBAART,GAA2C,KAAvBU,OAAOV,GAAKW,OACzB,IAANX,GAEH,IAAIQ,KAAKR,GAClB,MAAMY,SACE,IAAIC,2BAA2Bb,oBAK7C,SAASc,EAAQC,OAAWC,yDAAO,QAO3BC,EAAWT,KAAKC,MAAQF,EAAcQ,MAGtCE,EANQ,MAMQ,IAEZA,EAVO,WAWCC,EAAMF,GAAN,YAGTC,EAbM,KAaU,KACTE,EAAUF,EAfT,KAe8B,SACjCC,EAAMF,GAAN,WACOG,EAAU,EAAIpB,EAAMmB,EAAMF,GAAN,QAAwBG,GAAWD,EAAMF,GAAN,WAE1DjB,EAAMmB,EAAMF,GAAN,QAAwBG,OAGpCC,EAAQH,EArBL,MAqBwB,SAC7BC,EAAMF,GAAN,SACOI,EAAQ,EAAIrB,EAAMmB,EAAMF,GAAN,MAAsBI,GAASF,EAAMF,GAAN,SAEpDjB,EAAMmB,EAAMF,GAAN,MAAsBI,GAGnC,GAAGH,GA3BI,OA2BeA,EA1Bb,OA0B+B,KACnCI,EAAOJ,EA5BL,OA4BuB,SAC3BC,EAAMF,GAAN,QACOK,EAAO,EAAItB,EAAMmB,EAAMF,GAAN,KAAqBK,GAAQH,EAAMF,GAAN,QAEjDjB,EAAMmB,EAAMF,GAAN,KAAqBK,GAGlC,GAAGJ,GAlCM,QAkCeA,EAjChB,QAiCiC,KACpCK,EAASL,EAnCL,QAmCyB,SAC/BC,EAAMF,GAAN,UACOM,EAAS,EAAIvB,EAAMmB,EAAMF,GAAN,OAAuBM,GAAUJ,EAAMF,GAAN,UAEvDjB,EAAMmB,EAAMF,GAAN,OAAuBM,OAI/BC,EAAQN,EA1CL,SA0CwB,SAC7BC,EAAMF,GAAN,SACOO,EAAQ,EAAIxB,EAAMmB,EAAMF,GAAN,MAAsBO,GAASL,EAAMF,GAAN,SAEpDjB,EAAMmB,EAAMF,GAAN,MAAsBO,GArG5C,IAAIL,mBAEgB,aACD,cACF,aACD,cACC,aACA,qBAGG,sBACE,uBACH,0BACA,mBACF,uBACC,iBACF,wBACK,qBACJ,yBACE,mBACF,wBAsFjBJ,EAAQU,IAAM,SAASR,EAAMS,KACrBT,GAAQU,OAAOC,UAAWT,EAAMU,MAAOH"}